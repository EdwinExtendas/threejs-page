<!DOCTYPE html>
<html lang="en">
	<head>
		<title>world</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			* {
				box-sizing: border-box;
			}

			body {
				margin: 0px;
				height: 100%;
				overflow: hidden;
			}
            canvas {
              position: relative;
            }

            nav {
              top:35%;
              left: 0;
              right: 0;
              margin-left: auto;
              margin-right: auto;
              z-index: 1000;
              position: absolute;
            }


		</style>
		<!-- Bootstrap core CSS -->
		<link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	</head>
	<body>
    <nav>
      <div class="container">

      <div class="row">
        <div class="col-md-4">
          <div class="link-1">

            <img src="test.png">
          </div>
      </div>
        <div class="col-md-4">

          <div class="link-2">

            <img src="test2.png">
          </div>
        </div>
        <div class="col-md-4">

          <div class="link-3">

            <img src="test3.png">
          </div>
        </div>
      </div>

      </div>
      </div>
    </nav>
		<script src="three.min.js"></script>
		<script>
			var Shaders = {
				'earth' : {
					uniforms: {
						'texture': { type: 't', value: null }
					},
					vertexShader: [
						'varying vec3 vNormal;',
						'varying vec2 vUv;',
						'void main() {',
						'gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );',
						'vNormal = normalize( normalMatrix * normal );',
						'vUv = uv;',
						'}'
					].join('\n'),
					fragmentShader: [
						'uniform sampler2D texture;',
						'varying vec3 vNormal;',
						'varying vec2 vUv;',
						'void main() {',
						'vec3 diffuse = texture2D( texture, vUv ).xyz;',
						'float intensity = 1.00 - dot( vNormal, vec3( 0.0, 0.0, 1.0 ) );',
						'vec3 atmosphere = vec3( 1.0, 1.0, 1.0 ) * pow( intensity, 5.0 );',
						'gl_FragColor = vec4( diffuse + atmosphere, 5 );',
						'}'
					].join('\n')
				}
			};

			var camera, scene, renderer, planet, spacesphere;

			init();
			animate();

			function init() {
				scene = new THREE.Scene();
				camera = new THREE.PerspectiveCamera(45 , window.innerWidth / window.innerHeight , 0.1, 1000);
				renderer = new THREE.WebGLRenderer();

				renderer.setSize(window.innerWidth, window.innerHeight);

				var planetGeometry = new THREE.SphereGeometry(4,50,50);

                shader = Shaders['earth'];
                uniforms = THREE.UniformsUtils.clone(shader.uniforms);

				uniforms['texture'].value = THREE.ImageUtils.loadTexture('world3.jpg');

				material = new THREE.ShaderMaterial({
					 uniforms: uniforms,
					vertexShader: shader.vertexShader,
					fragmentShader: shader.fragmentShader
				});

				planet = new THREE.Mesh(planetGeometry, material);

				planet.position.x = 0;
				planet.position.y = 0;
				planet.position.z = 0;

				scene.add(planet);

				planet.position.set(0,-4,0);

				//Space background is a large sphere
				var spacetex = THREE.ImageUtils.loadTexture("space.jpg");
				var spacesphereGeo = new THREE.SphereGeometry(20,20,20);
				var spacesphereMat = new THREE.MeshPhongMaterial();
				spacesphereMat.map = spacetex;

				spacesphere = new THREE.Mesh(spacesphereGeo,spacesphereMat);

				//spacesphere needs to be double sided as the camera is within the spacesphere
				spacesphere.material.side = THREE.DoubleSide;

				spacesphere.material.map.wrapS = THREE.RepeatWrapping;
				spacesphere.material.map.wrapT = THREE.RepeatWrapping;
				spacesphere.material.map.repeat.set( 5, 3);

				scene.add(spacesphere);

				//position camera
				camera.position.x = 0;
				camera.position.y = 0;
				camera.position.z = -15;
				camera.lookAt(scene.position);

				//create two spotlights to illuminate the scene
				var spotLight = new THREE.SpotLight( 0xffffff );
				spotLight.position.set( -40, 60, -10 );
				spotLight.intensity = 0.2;
				scene.add( spotLight );

				var spotLight2 = new THREE.SpotLight( 0x5192e9 );
				spotLight2.position.set( 40, -60, 30 );
				spotLight2.intensity = 0.8;
				scene.add( spotLight2 );

				document.body.appendChild( renderer.domElement );
			}

			function animate() {
				requestAnimationFrame( animate );

				//rotate planet and spacesphere
				planet.rotation.y += 0.002;
				planet.rotation.x += 0.001;
				spacesphere.rotation.y += 0.001;

				renderer.render( scene, camera );
			}


			window.addEventListener( 'resize', onWindowResize, false );
			function onWindowResize(){

				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();

				renderer.setSize( window.innerWidth, window.innerHeight );
			}
		</script>

		<!-- Bootstrap core JavaScript -->
		<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
	</body>
</html>

